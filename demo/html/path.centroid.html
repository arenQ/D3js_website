<!DOCTYPE html>
        <html>
        <head>
    <meta charset="utf-8">
    <style>
        div {
            font-family: verdana, arial, sans-serif;
            font-weight: bold;
            font-size: 18px;
        }
    </style>
        </head>
<body>
<script src="../库文件/d3.js"></script>
<h1 style="text-align: center">地图</h1>
<script>
var width = 750,
    height = 500;
var svg = d3.select("body").append("svg")
    .attr("width", width)
    .attr("height", height)
        .style("background-color","black")
        .style("margin-left","300px");
    
var color=d3.scale.category20c();
var projection = d3.geo.mercator()
						.center([120, 35])
						.scale(540);
var path = d3.geo.path()
				.projection(projection);
//数据文件接口
d3.json("../数据文件/china.json", function(error, china) {
	svg.selectAll("path")
		.data( china.features )//调用数据
		.enter()
		.append("path")
		.attr("d",path)
		.attr("fill","midnightblue");
	  
    svg.selectAll("circle")
      .data(china.features)//调用数据
      .enter()
      .append("circle")
      .attr("transform", function(d) { return "translate(" + path.centroid(d) + ")"; })
      .attr("r", 3 )
	  .attr("fill",function(d,i){ return color(i)})
            .on("mouseover",function(d){
                d3.select(this)
                        .transition()
                        .duration(1000)
                        .style("r",8)
            })
            .on("mouseout",function(d){
                d3.select(this)
                        .transition()
                        .duration(1000)
                        .style("r",3)
            });

    svg.selectAll("text")
            .data(china.features)//调用数据
            .enter()
            .append("text")
            .attr("transform", function(d) { return "translate(" + path.centroid(d) + ")"; })
            .attr("fill","yellow")
            .style({"font-size":"15px",
                    "opacity":0})
            .text(function(d,i){
                return china.features[i].properties.name;
            })
            .on("mouseover",function(d){
                d3.select(this)
                        .transition()
                        .duration(1000)
                        .style("opacity",1)
            })
            .on("mouseout",function(d){
                d3.select(this)
                        .transition()
                        .duration(1000)
                        .style("opacity",0)
            });
	
});

//添加南海诸岛示意图
//此图截自Echarts：http://echarts.baidu.com/doc/example/map9.html
svg.append("svg:image")
	.attr("xlink:href","../img/southchinasea.png")
	.attr({
		x:550,
		y:350,
		"width":50,
		"height":70
	});
</script>
<div>
    <h2>#js代码</h2>
    <pre style="border: 2px solid deepskyblue">
    <code>
        var width = 750,
        height = 500;
        var svg = d3.select("body").append("svg")
        .attr("width", width)
        .attr("height", height)
        .style("background-color","black")
        .style("margin-left","300px");

        var color=d3.scale.category20c();
        var projection = d3.geo.mercator()
        .center([120, 35])
        .scale(540);
        var path = d3.geo.path()
        .projection(projection);
        //数据文件接口
        d3.json("../数据文件/china.json", function(error, china) {
        svg.selectAll("path")
        .data( china.features )//调用数据
        .enter()
        .append("path")
        .attr("d",path)
        .attr("fill","midnightblue");

        svg.selectAll("circle")
        .data(china.features)//调用数据
        .enter()
        .append("circle")
        .attr("transform", function(d) { return "translate(" + path.centroid(d) + ")"; })
        .attr("r", 3 )
        .attr("fill",function(d,i){ return color(i)})
        .on("mouseover",function(d){
        d3.select(this)
        .transition()
        .duration(1000)
        .style("r",8)
        })
        .on("mouseout",function(d){
        d3.select(this)
        .transition()
        .duration(1000)
        .style("r",3)
        });

        svg.selectAll("text")
        .data(china.features)//调用数据
        .enter()
        .append("text")
        .attr("transform", function(d) { return "translate(" + path.centroid(d) + ")"; })
        .attr("fill","yellow")
        .style({"font-size":"15px",
        "opacity":0})
        .text(function(d,i){
        return china.features[i].properties.name;
        })
        .on("mouseover",function(d){
        d3.select(this)
        .transition()
        .duration(1000)
        .style("opacity",1)
        })
        .on("mouseout",function(d){
        d3.select(this)
        .transition()
        .duration(1000)
        .style("opacity",0)
        });

        });

        //添加南海诸岛示意图
        //此图截自Echarts：http://echarts.baidu.com/doc/example/map9.html
        svg.append("svg:image")
        .attr("xlink:href","../img/southchinasea.png")
        .attr({
        x:550,
        y:350,
        "width":50,
        "height":70
        });
    </code>
</pre>
</div>
<div>
    <h2>#数据文件（部分）</h2>
    <pre style="border: 2px solid deepskyblue">
    <code>
        {
        "type": "FeatureCollection",

        "features": [
        { "type": "Feature", "properties": { "id": 1 , "name": "甘肃" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 104.35851932200904, 37.401231594562489 ], [ 104.40864546081934, 37.401283271405816 ], [ 104.46450768428224, 37.440247301072134 ], [ 104.47628991105051, 37.443761298545127 ], [ 104.4901908713116, 37.441642564153028 ], [ 104.53163536967651, 37.424744371255713 ], [ 104.68950687084538, 37.411928615713038 ], [ 104.71756717288667, 37.406864326427524 ], [ 104.72056440642217, 37.400533963471645 ], [ 104.7017541847078, 37.393738512522305 ], [ 104.68578616689803, 37.385237739230263 ], [ 104.68046349519409, 37.373222968465228 ], [ 104.68780154760327, 37.362060859321218 ], [ 104.70857547407894, 37.351648058111408 ], [ 104.71756717288667, 37.345291855834461 ], [ 104.7224247583959, 37.339323228084538 ], [ 104.7224247583959, 37.328445339780558 ], [ 104.71994428879782, 37.323716946379903 ], [ 104.71632693943673, 37.319376125707578 ], [ 104.70712853415455, 37.312864894699089 ], [ 104.68904178285203, 37.306250311802472 ], [ 104.68377078709216, 37.30345978384193 ], [ 104.67942996641983, 37.299997464111641 ], [ 104.67364220582317, 37.290695706041987 ], [ 104.67136844269942, 37.285657254278789 ], [ 104.66806115080146, 37.281238919240707 ], [ 104.66341027176668, 37.278293362548624 ], [ 104.65689904165748, 37.277208156930897 ], [ 104.64124108310943, 37.2783967153361 ], [ 104.63550499935627, 37.277414863405255 ], [ 104.6305440610596, 37.274831041019695 ], [ 104.62790856272994, 37.270748602765735 ], [ 104.6258931820247, 37.264599106963203 ], [ 104.62434288931291, 37.26299713830727 ], [ 104.6209322446274, 37.260775051127666 ], [ 104.61969201117739, 37.255943304939535 ], [ 104.62139733262075, 37.249277045199506 ], [ 104.63643517534308, 37.234936835366653 ], [ 104.64697716686271, 37.228089708473277 ], [ 104.65813927600675, 37.222586167817354 ], [ 104.68439090381713, 37.215609849714781 ], [ 104.6946228369743, 37.214085395424689 ], [ 104.70144412634545, 37.214085395424689 ], [ 104.70888553334066, 37.215015571411499 ], [ 104.71539676255054, 37.216875922485855 ], [ 104.72087446478474, 37.219408067128597 ], [ 104.73058963400439, 37.225428371721932 ], [ 104.75064009006803, 37.244264430958737 ], [ 104.7566862330832, 37.247907620540218 ], [ 104.76474775590418, 37.250491441127139 ], [ 104.7847465351245, 37.248682765996847 ], [ 104.80148969929019, 37.243334255871218 ], [ 104.8553882179919, 37.218193671200964 ], [ 104.86003909702669, 37.214395452887857 ], [ 104.86360477134309, 37.209873765961561 ], [ 104.86562015204845, 37.204396063727359 ], [ 104.86903079583453, 37.186386826790681 ], [ 104.87089114780821, 37.180934963877462 ], [ 104.87399173413121, 37.176387436730806 ], [ 104.88515384327519, 37.164088446924296 ], [ 104.89740115803704, 37.146518460458566 ], [ 104.90845991439363, 37.127398180381732 ], [ 104.91311079342842, 37.117114570381119 ], [ 104.9169348492639, 37.10484141719769 ], [ 104.91900190591321, 37.100526434946971 ], [ 104.92241255059872, 37.096754055055584 ], [ 104.9652523129439, 37.063836168404407 ], [ 104.99393273260949, 37.047248032970344 ], [ 105.01646365827128, 37.040220038024358 ], [ 105.0904643089807, 37.026319077763247 ], [ 105.15154585225929, 36.996088365385759 ], [ 105.18017459508144, 36.972136339120709 ], [ 105.18637576682812, 36.96216278748264 ], [ 105.20327395972544, 36.924774888949941 ], [ 105.304611443863, 36.819871731395267 ], [ 105.32057946167276, 36.796565660277025 ], [ 105.32166466729058, 36.780726834575717 ], [ 105.23660525932519, 36.739928290458238 ], [ 105.22916385322918, 36.735070705848386 ], [ 105.22249759258978, 36.726931667762216 ], [ 105.22001712389113, 36.717552395326805 ], [ 105.21924197843452, 36.702411200716341 ], [ 105.22048221188453, 36.692954413015769 ], [ 105.26874799962047, 36.550224107356684 ], [ 105.30895226363612, 36.491183784104408 ], [ 105.3359273618583, 36.435321559742221 ], [ 105.3439888855786, 36.422479967576407 ], [ 105.34760623583907, 36.418449205266597 ], [ 105.36434940000476, 36.403928128280512 ], [ 105.39277143815133, 36.384394436154309 ], [ 105.4074992207124, 36.365067450502409 ], [ 105.42145185781692, 36.339952704253875 ], [ 105.42811811665786, 36.324372260071698 ], [ 105.44594648644119, 36.254583237926056 ], [ 105.44796186714643, 36.24001048409653 ], [ 105.44858198387152, 36.226652127094013 ], [ 105.44703169205889, 36.207325141442055 ], [ 105.44537804566033, 36.201718247998741 ], [ 105.44253584175567, 36.197119045807312 ], [ 105.43524946529055, 36.188824978090224 ], [ 105.43338911331693, 36.179006456083073 ], [ 105.43292402532347, 36.164717923093633 ], [ 105.43788496272089, 36.132368476324046 ], [ 105.43850508034524, 36.117175604870255 ], [ 105.43741987472742, 36.10668528929466 ], [ 105.43106367424912, 36.097900296061795 ], [ 105.42703291193931, 36.094127916170407 ], [ 105.41788618439995, 36.087978421267138 ], [ 105.35148196761867, 36.057644355202797 ], [ 105.3464693542773, 36.054802151298219 ], [ 105.34295535680428, 36.050926419518618 ], [ 105.33096642536026, 36.032426256166787 ], [ 105.32600548706353, 36.022478542950353 ], [ 105.31639367063133, 35.99356557928806 ], [ 105.31484337791954, 35.972791652812589 ], [ 105.31592858263798, 35.9478836130383 ], [ 105.31809899297417, 35.933207506421297 ], [ 105.32057946167276, 35.923440660358182 ], [ 105.32336998873393,
    </code>
</pre>
</div>
</body>
</html>